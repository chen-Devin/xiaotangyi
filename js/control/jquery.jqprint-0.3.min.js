(function(b){var a;b.fn.jqprint=function(f){a=b.extend({},b.fn.jqprint.defaults,f);var e=(this instanceof jQuery)?this:b(this);if(a.operaSupport&&b.browser.opera){var g=window.open("","jqPrint-preview");g.document.open();var i=g.document}else{var h=b("<iframe  />");if(!a.debug){h.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"})}h.appendTo("body");var i=h[0].contentWindow.document}if(a.importCSS){if(b("link[media=print]").length>0){b("link[media=print]").each(function(){i.write("<link type='text/css' rel='stylesheet' href='"+b(this).attr("href")+"' media='print' />")})}else{b("link").each(function(){i.write("<link type='text/css' rel='stylesheet' href='"+b(this).attr("href")+"' />")})}}if(a.printContainer){i.write(e.outer())}else{e.each(function(){i.write(b(this).html())})}i.close();(a.operaSupport&&b.browser.opera?g:h[0].contentWindow).focus();if(d()=="IE"){c()}function c(){var n,l,k;n="HKEY_CURRENT_USER";l="\\Software\\Microsoft\\Internet Explorer\\PageSetup\\";try{var j=new ActiveXObject("WScript.Shell");k="header";j.RegWrite(n+l+k,"");k="footer";j.RegWrite(n+l+k,"")}catch(m){}}function d(){var j=window.navigator.userAgent;if(j.indexOf("MSIE")>=0){return"IE"}else{if(j.indexOf("Firefox")>=0){return"Firefox"}else{if(j.indexOf("Chrome")>=0){return"Chrome"}else{if(j.indexOf("Opera")>=0){return"Opera"}else{if(j.indexOf("Safari")>=0){return"Safari"}}}}}}setTimeout(function(){(a.operaSupport&&b.browser.opera?g:h[0].contentWindow).print();if(g){g.close()}},1000)};b.fn.jqprint.defaults={debug:false,importCSS:true,printContainer:true,operaSupport:true};jQuery.fn.outer=function(){return b(b("<div></div>").html(this.clone())).html()}})(jQuery);